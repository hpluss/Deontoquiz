{% extends "base.html" %}

{% block head %}
{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-form">
        <h2>Connexion</h2>
        <form method="POST" action="{{ url_for('login') }}">
            <div class="form-group">
                <label for="login-username">Nom d'utilisateur</label>
                <input type="text" id="login-username" name="username" required>
            </div>
            <div class="form-group">
                <label for="login-password">Mot de passe</label>
                <input type="password" id="login-password" name="password" required>
            </div>
            <button type="submit">Se connecter</button>
        </form>
    </div>

    <div class="auth-form">
        <h2>Inscription</h2>
        <form method="POST" action="{{ url_for('register') }}">
            <div class="form-group">
                <label for="register-username">Nom d'utilisateur</label>
                <input type="text" id="register-username" name="username" required>
            </div>
            <div class="form-group">
                <label for="register-email">Email</label>
                <input type="email" id="register-email" name="email" required>
            </div>
            <div class="form-group">
                <label for="register-password">Mot de passe</label>
                <input type="password" id="register-password" name="password" required>
            </div>
            <button type="submit">S'inscrire</button>
        </form>
    </div>
</div>


<hr>
<p> Back to <a href="{{ url_for('index') }}">homepage</a></p>

<div id="flash-messages">
{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}
            <div class="alert alert-{{ category }}">{{ message }}</div>
        {% endfor %}
    {% endif %}
{% endwith %}

</div>

<script>
    setTimeout(function() {
        var flashMessages = document.getElementById('flash-messages');
        if (flashMessages) {
            flashMessages.style.transition = 'opacity 0.5s ease-out';
            flashMessages.style.opacity = '0';
            setTimeout(function() {
                flashMessages.style.display = 'none';
            }, 500);
        }
    }, 4000);
</script>

{% endblock %}